<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stackly</title>
    <link rel="stylesheet" href="./dashboard2.css">
      <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"
      integrity="sha512-A7AYk1fGKX6S2SsHywmPkrnzTZHrgiVT7GcQkLGDe2ev0aWb8zejytzS8wjo7PGEXKqJOrjQ4oORtnimIRZBtw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
      integrity="sha512-1cK78a1o+ht2JcaW6g8OXYwqpev9+6GqOkz9xmBN9iUUhIndKtxwILGWYOSibOKjLsEdjyjZvYDq/cZwNeak0w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.birds.min.js"
      integrity="sha512-iIWwQewCNqw+4f09oyZvCkBUNEuVfCSOtFzQW6dzvsm46yuToWTcL9uUEAyTnV0fG90jyCiiURE4yEgLclpoZA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
     <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
     <div class="mb">
      <div class="mb-main">
        <div class="menu-btn">
          <svg
            onclick="menu.hidden^=1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="size-6"
            height="24"
            width="24"
          >
            <path
              fill-rule="evenodd"
              d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
              clip-rule="evenodd"
            />
          </svg>

          <div hidden id="menu">
            <ul class="menu-list">
              <li>
                <a  href="./home2.html">Home</a>
                <i onclick="menu2.hidden^=1" class="fa-solid fa-caret-down"></i>
                <div id="menu2" hidden>
                  <a href="../index.html">Home1</a>
                </div>
              </li>
              <li><a href="./about2.html">About</a></li>
              <li><a  href="./service2.html">Service</a></li>
              <li><a href="./blog2.html">Blogs</a></li>
               <li><a href="./contact2.html">Contact</a></li>
            <li><a style="color: #005FC9" href="./dashboard2.html">Dashboard</a></li>
            </ul>
          </div>
        </div>
        <div class="mb-logo">
          <a href="./home2.html" style="display: flex; align-items: center">
            <img src="../images/logo.webp" alt="" />
          </a>
          <a class="login2" href="./login2.html"
            ><i class="fa-solid fa-user"></i>Log in</a
          >
        </div>
      </div>
    </div>
    <nav id="nav" >
      <div class="main-menu">
        <a href="./home2.html" style="display: flex; align-items: center">
          <img src="../images/logo.webp" alt="" />
        </a>
        <div class="menu-child">
          <ul class="menu-list2">
            <div style="position: relative">
              <li>
                <a  href="./home2.html">Home</a
                ><i
                  onclick="menu3.hidden^=1"
                  class="fa-solid fa-caret-down"
                ></i>
                <div
                  style="position: absolute; top: 25px; background-color: white"
                >
                  <a
                    href="../index.html"
                    style="
                      background-color: white;
                      border: 1px solid black;
                      padding: 4px;
                    "
                    id="menu3"
                    hidden
                    >Home1</a
                  >
                </div>
              </li>
            </div>
            <li><a href="./about2.html">About</a></li>
            <li><a  href="./service2.html">Service</a></li>
            <li><a href="./blog2.html">Blogs</a></li>
            <li><a href="./contact2.html">Contact</a></li>
            <li><a style="color: #005FC9"  href="./dashboard2.html">Dashboard</a></li>
          </ul>

          <a class="login" href="./login2.html"
            ><i class="fa-solid fa-user"></i>Log in</a
          >
        </div>
      </div>
    </nav>

      <div class="top-about">
      <img
        class="top-img"
        src="../images/tb4.webp"
        alt=""
      />

      <div data-aos="zoom-in" class="overlay">
        <h1>DASHBOARD</h1>
        <p class="breadcrumb">
          <span class="home-icon">üè†Home / <span>Dashboard</span></span>
        </p>
      </div>
    </div>



 
  <div class="dashboard">

    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
      <div class="year-select">
        <label for="year">Year</label>
        <select id="year">
          <option>2022</option>
          <option>2023</option>
          <option>2024</option>
          <option selected>2025</option>
        </select>
      </div>

      <div class="kpis">
        <div class="kpi">
          <div class="kpi-label">Policies Sold</div>
          <div class="kpi-value" id="kpi-sold">26</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Assured Amount</div>
          <div class="kpi-value" id="kpi-assured">$4.92M</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Avg. Premium</div>
          <div class="kpi-value" id="kpi-average">$105.06K</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Total Premium</div>
          <div class="kpi-value" id="kpi-total">$3.82M</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Avg. Claim Process</div>
          <div class="kpi-value" id="kpi-claim">6 Day(s)</div>
        </div>
      </div>
    </aside>

    <!-- MAIN PANELS -->
    <main class="main">

      <!-- TOP CHART ROW -->
      <section class="charts-row">
        <div class="card donut-card">
          <h3>Assured Amount by Policy Type</h3>
          <canvas id="donutChart" width="400" height="300"></canvas>
          <div class="legend" id="donutLegend"></div>
        </div>

        <div class="card bar-card">
          <h3>Profit vs. Expenses by Policy Type</h3>
          <canvas id="barChart" width="600" height="300"></canvas>
        </div>
      </section>

      <!-- HEAT / APE ROW -->
      <section class="card heat-card">
        <h3>Annual Premium Equivalent Performance (APE) by Year and Policy Type</h3>
        <div class="heat-table" id="heatTable" aria-live="polite"></div>
      </section>

    </main>
  </div>

<script>
  // Demo dashboard script using Chart.js
// Data is simulated. Changing the year updates charts + heat table + KPIs.

const dataByYear = {
  2022: {
    assured: { Travel: 2828000, Health: 2400000, Life: 2880000, Home: 2640000, Disability: 260000 },
    profit: { Home: 8000, Disability: 1200, Health: 12000, Travel: 16000, Life: 15000 },
    expense: { Home: 2000, Disability: 300, Health: 3000, Travel: 4800, Life: 4000 },
    ape: {
      Travel: ["$16.69K","$3.85K","$12.26K","$46.61K"],
      Life:   ["$22.88K","$58.86K","$11.20K","$12.47K"],
      Home:   ["$1.31K","$53.62K","$112.10K","$48.88K"],
      Health: ["$3.63K","$4.36K","$59.22K","$69.13K"],
      Disability:["$1.50K","$60.38K","$41.30K","$43.65K"],
      years: [2022,2023,2024,2025]
    },
    kpis: { sold:26, assured:"$4.92M", avg:"$105.06K", total:"$3.82M", claim:"6 Day(s)"}
  },

  2023: {
    assured: { Travel: 3000000, Health: 2100000, Life: 2550000, Home: 2200000, Disability: 500000 },
    profit: { Home: 500, Disability: 800, Health: 9000, Travel: 13000, Life: 14000 },
    expense: { Home: 1200, Disability: 250, Health: 2000, Travel: 3500, Life: 3500 },
    ape: {/* same structure used for demo */},
    kpis: { sold:34, assured:"$5.10M", avg:"$110.00K", total:"$4.1M", claim:"5 Day(s)"}
  },

  2024: {
    assured: { Travel: 2828000, Health: 2400000, Life: 2880000, Home: 2640000, Disability: 260000 },
    profit: { Home: 12000, Disability: 600, Health: 12500, Travel: 16000, Life: 17000 },
    expense: { Home: 2500, Disability: 900, Health: 3100, Travel: 4800, Life: 4500 },
    ape: {/* same */},
    kpis: { sold:46, assured:"$6.02M", avg:"$118.00K", total:"$4.9M", claim:"4 Day(s)"}
  },

  2025: {
    assured: { Travel: 4661000, Health: 6913000, Life: 4888000, Home: 1121000, Disability: 603800 },
    profit: { Home: 15000, Disability: 2200, Health: 12500, Travel: 17000, Life: 15000 },
    expense: { Home: 3500, Disability: 4300, Health: 4900, Travel: 5300, Life: 4200 },
    ape: {/* same */},
    kpis: { sold:72, assured:"$9.20M", avg:"$134.00K", total:"$7.2M", claim:"3 Day(s)"}
  }
};

// fallback for missing "ape" data - use same sample arrays from 2020
dataByYear[2022].ape = dataByYear[2022].ape || {};
dataByYear[2023].ape = dataByYear[2023].ape || dataByYear[2023].ape;
dataByYear[2024].ape = dataByYear[2024].ape || dataByYear[2024].ape;
dataByYear[2025].ape = dataByYear[2025].ape || dataByYear[2025].ape;

const policyTypes = ["Home","Disability","Health","Travel","Life"];
const donutEl = document.getElementById('donutChart').getContext('2d');
const barEl = document.getElementById('barChart').getContext('2d');

let donutChart = new Chart(donutEl, {
  type: 'doughnut',
  data: {
    labels: policyTypes,
    datasets: [{
      data: policyTypes.map(pt => dataByYear[2025].assured[pt] || 0),
      backgroundColor: ['#F4B942','#D9889C','#4AA3FF','#7FC8FF','#7C6CFF'],
      hoverOffset: 6,
      borderColor: '#fff',
      borderWidth: 2
    }]
  },
  options: {
    plugins:{legend:{display:false}},
    cutout: '60%'
  }
});

let barChart = new Chart(barEl, {
  type: 'bar',
  data: {
    labels: policyTypes,
    datasets: [
      { label: 'Profit', data: policyTypes.map(pt => dataByYear[2025].profit[pt] || 0), backgroundColor: '#0b66c3' },
      { label: 'Expense', data: policyTypes.map(pt => dataByYear[2025].expense[pt] || 0), backgroundColor: '#f2b01e' }
    ]
  },
  options: {
    responsive:true,
    plugins:{legend:{position:'top'}},
    scales:{
      y:{beginAtZero:true}
    }
  }
});

// populate donut legend
function renderDonutLegend(chart){
  const legend = document.getElementById('donutLegend');
  legend.innerHTML = '';
  chart.data.labels.forEach((l,i)=>{
    const col = chart.data.datasets[0].backgroundColor[i];
    const el = document.createElement('div');
    el.className = 'item';
    el.innerHTML = `<span style="width:12px;height:12px;background:${col};display:inline-block;border-radius:3px"></span><span style="margin-left:8px">${l}</span>`;
    legend.appendChild(el);
  });
}
renderDonutLegend(donutChart);

// heat table renderer
function renderHeatTable(yearData){
  const container = document.getElementById('heatTable');
  container.innerHTML = '';
  const years = yearData.ape.years || [2022,2023,2024,2024];
  // header row: blank + years
  container.appendChild(cell('','head'));
  years.forEach(y => container.appendChild(cell(y,'head')));

  // each policy row
  const types = ["Travel","Life","Home","Health","Disability"];
  types.forEach(type=>{
    container.appendChild(cell(type,'head'));
    // find array of values for this type
    const arr = (yearData.ape[type] && yearData.ape[type]) || (dataByYear[2022].ape[type] || []);
    years.forEach((y,idx)=>{
      const raw = arr[idx] || "$0";
      // create a simple numeric value for coloring (strip $ and K)
      const n = parseFloat(raw.replace(/[\$,K]/g,'')) || 0;
      const color = heatColor(n); // compute color
      const cellEl = cell(raw,'value');
      cellEl.style.background = color;
      container.appendChild(cellEl);
    });
  });

  // helper to create cell
  function cell(text, cl){
    const d = document.createElement('div');
    d.className = 'cell ' + cl;
    d.textContent = text;
    return d;
  }

  // simple color ramp from light-blue to deep-blue
  function heatColor(value){
    // value roughly 0..120 scale - clamp & map
    const v = Math.min(120, Math.max(0, value));
    // map to 0..1
    const t = v/120;
    const r = Math.round(230 - (100 * t));
    const g = Math.round(245 - (160 * t));
    const b = Math.round(250 - (120 * t));
    return `rgb(${r},${g},${b})`;
  }
}

// update KPIs
function updateKPIs(kpis){
  document.getElementById('kpi-sold').textContent = kpis.sold;
  document.getElementById('kpi-assured').textContent = kpis.assured;
  document.getElementById('kpi-average').textContent = kpis.avg;
  document.getElementById('kpi-total').textContent = kpis.total;
  document.getElementById('kpi-claim').textContent = kpis.claim;
}

// update charts on year change
function updateForYear(year){
  const y = parseInt(year,10);
  const d = dataByYear[y];
  if(!d) return;
  // donut
  donutChart.data.datasets[0].data = policyTypes.map(pt => d.assured[pt] || 0);
  donutChart.update();

  // bar
  barChart.data.datasets[0].data = policyTypes.map(pt => d.profit[pt] || 0);
  barChart.data.datasets[1].data = policyTypes.map(pt => d.expense[pt] || 0);
  barChart.update();

  // heat table - use combined data object (we will show 2020 sample values for all)
  renderHeatTable(dataByYear[2022]); // in demo use 2020 APE arrays
  updateKPIs(d.kpis);
}

// hookup year select
document.getElementById('year').addEventListener('change', (e)=> updateForYear(e.target.value));

// initial render
updateForYear(document.getElementById('year').value);

</script>











   <footer class="ft-wrap" role="contentinfo">
    <div class="ft-inner">

      <!-- About / Subscribe -->
      <div class="ft-col ft-about">
        <h3 class="ft-title">About</h3>
        <p class="ft-text">
          Insurance is purchased to provide financial protection or reimbursement against losses resulting from accidents, injury, or property damage.
        </p>

        <form class="ft-subscribe" action="./error.html" method="GET" aria-label="Subscribe form">
          <label class="sr-only" for="ft-email">Email Address</label>
          <input id="ft-email" class="ft-input" name="email" type="email" placeholder="Email Address" required>
          <button class="ft-send" type="submit" aria-label="Subscribe">‚ûú</button>
        </form>

        <div class="ft-social">
          <a href="./error.html" class="s"> <i class="fa-brands fa-instagram"></i></a>
          <a href="./error.html" class="s"> <i class="fa-brands fa-facebook"></i></a>
          <a href="./error.html" class="s"> <i class="fa-brands fa-twitter"></i></a>
          <a href="./error.html" class="s"> <i class="fa-brands fa-telegram"></i></a>
        </div>
      </div>

      <!-- Middle contact card -->
      <div class="ft-col ft-contact">
        <div class="contact-card">
         

          <div class="contact-items">
            <div class="ci">
              <span class="ci-icon">üåê</span>
              <div class="ci-text">
                <div class="ci-line">stackly@gmail.com</div>
                <div class="ci-sub">www.stackly.com</div>
              </div>
            </div>

            <div class="ci">
              <span class="ci-icon">üìç</span>
              <div class="ci-text">
                <div class="ci-line">Chinna Thirupathi,Salem</div>
                <div class="ci-sub">Tamilnadu,India.</div>
              </div>
            </div>

            <hr class="ci-divider">

            <div class="ci phone">
              <span class="ci-icon circle">üìû</span>
              <div class="ci-text">
                <div class="ci-label">Emergency call</div>
                <div class="ci-phone">+91 78912 24567</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right column: Explore links + Map (replaced gallery) -->
      <div class="ft-col ft-right">
        <h3 class="ft-title">Quick Links</h3>
        <ul class="ft-links">
          <li><a href="./home2.html">Home</a></li>
          <li><a href="./about2.html">About</a></li>
          <li><a href="./service2.html">Service</a></li>
          <li><a href="./blog2.html">Blog</a></li>
          <li><a href="./contact2.html">Contact</a></li>
          <li><a href="./dashboard2.html">Dashboard</a></li>
        </ul>

        
      </div>
    

    </div>
      <div class="ft-map" aria-hidden="false">
          <!-- Replace the src with the map/location you want.
               This is an embeddable Google Maps example for New York.
               If you prefer another provider, replace the iframe accordingly. -->
           <iframe class="map1"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3907.1616097152896!2d78.1739798!3d11.682956599999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3babefef7fd970bb%3A0xe11aef1a71994f9!2sStackly!5e0!3m2!1sen!2sin!4v1757488188623!5m2!1sen!2sin"
              width="100%"
              height="150"
              style="border: 0,"
              allowfullscreen=""
              loading="lazy"
              
            >
            </iframe>
        </div>

    <!-- COPYRIGHT ROW -->
    <div class="ft-copy">
      ¬© 2025 All rights reserved.
    </div>
  </footer>







        <script>
      // $(document).on('ready', function () {
      // initialization of aos
      AOS.init({
        duration: 650,
        once: false,
        mirror: true,
      });
    </script>
    
</body>
</html>